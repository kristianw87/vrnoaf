version: '3'

services:

  reverseProxyQa:
    container_name: 'reverseproxyqa'
    image: 'kristianw87/vrnoafqa-reverseproxy:latest'
    restart: always
    ports:
      - "80:80"
      - "443:443"
    volumes: 
      - acme-challenge-volume:/data/letsencrypt
      - letsencryptetc-volume:/etc/letsencrypt
      - dhparam-volume:/data/dhparam
    networks:
      - vrnoaf-network
    depends_on:
      - frontend
      - wordpress

  frontend:
    image: 'kristianw87/vrnoafqa-frontend:latest'

volumes:
  acme-challenge-volume:
  letsencryptetc-volume:
  dhparam-volume:
  #For persisting data used in scripts
  letsencryptlib-volume:
  #For inspecting logs
  letsencryptlog-volume:
